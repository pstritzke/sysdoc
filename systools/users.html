<!DOCTYPE html>
<html dir="ltr" lang="en">
    <head>
        <meta charset='utf-8'>
        <title>6. Users and Groups</title>
    </head>
    <body>


        <h1>6. Users</h1>

        <h2 id="listusers">6.1. List users</h2>

        <pre>
        # cat /etc/passwd
        </pre>

        <h2 id="listgroups">6.1. List Groups</h2>

        <h2 id="listusers">6.1. Add Group</h2>

        <h2 id="useradd">6.2. Add user</h2>

        <pre>
        /etc/default/useradd
        /etc/login.defs
        </pre>

        <pre>
        # useradd -g users -m -k /etc/skel -s /bin/bash bob
        # passwd bob
        # chmod 0700 /home/bob
        </pre>

        <p>If home user directory exists and is not empty, consider 
        <a href="http://superuser.com/questions/176686/shared-linux-machine-block-home-folder-access-to-other-users">this tip</a> 
        from Aaron Digulla;</p>

        <pre>
        find $HOME -type d -exec chmod go-rwx "{}" \;
        </pre>

        <p>Example of initial user directory layout;</p>

        <pre>
        .bash_history
        .bash_profile
        .bashrc
        .gnupg/
        .lesshst
        .tmux.conf
        .viminfo
        .vimrc
        </pre>

        <h2 id="userdel">6. Remove user</h2>

        <p>Command userdel delete a user account, with -r option
        files in user's home directory will be removed along with the
        home directory itself and the user's mail spool. Example how
        to remove bob user and all its files;</p>

        <pre>
        # userdel -r bob
        </pre>

        <h3>2.4.5 Administrator shutdown permissions</h3>

        <p>To allow administrator to use shutdown command without password,
        for other user you can create alias, both for commands and users 
        groups.</p>

        <pre>
        bash-4.3# sudoedit /etc/sudoers
        </pre>

        <p>This example just configure admin user, add this to the end;</p>

        <pre>
        admin ALL=NOPASSWD: /sbin/shutdown
        </pre>

        <p>You can add alias to your <a href="../systools/bash.html#bashrc">bash.rc</a>;</p>

        <pre>
        alias shutdown="sudo /sbin/shutdown"
        </pre>

    </body>
</html>
